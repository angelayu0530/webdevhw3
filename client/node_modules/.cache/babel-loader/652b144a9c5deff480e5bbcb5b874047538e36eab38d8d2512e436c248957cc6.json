{"ast":null,"code":"import _objectSpread from\"/Users/angelayu/webdevhw3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import'./cart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function getCart(){return JSON.parse(localStorage.getItem('cart')||'[]');}function saveCart(cart){localStorage.setItem('cart',JSON.stringify(cart));}function Cart(){const[cart,setCart]=useState([]);const[total,setTotal]=useState(0);useEffect(()=>{const cartData=getCart();setCart(cartData);setTotal(cartData.reduce((sum,item)=>sum+item.price*item.quantity,0));},[]);const removeFromCart=name=>{let updatedCart=cart.map(item=>{if(item.name===name){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1});}return item;}).filter(item=>item.quantity>0);setCart(updatedCart);saveCart(updatedCart);setTotal(updatedCart.reduce((sum,item)=>sum+item.price*item.quantity,0));};useEffect(()=>{const count=cart.reduce((sum,item)=>sum+item.quantity,0);document.querySelectorAll('#cart-count').forEach(el=>{el.textContent=count;});},[cart]);return/*#__PURE__*/_jsxs(\"main\",{className:\"menu-page\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"menu-header\",children:\"Your Shopping Cart\"}),/*#__PURE__*/_jsx(\"div\",{id:\"cart-items\",children:cart.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is empty.\"}):cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"item-name\",children:[item.name,\" (\",item.quantity,\")\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-price\",children:[\"$\",(item.price*item.quantity).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-item\",onClick:()=>removeFromCart(item.name),children:\"Remove\"})]},item.name))}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total:\"}),\" $\",total.toFixed(2)]})]});}export default Cart;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","getCart","JSON","parse","localStorage","getItem","saveCart","cart","setItem","stringify","Cart","setCart","total","setTotal","cartData","reduce","sum","item","price","quantity","removeFromCart","name","updatedCart","map","_objectSpread","filter","count","document","querySelectorAll","forEach","el","textContent","className","children","id","length","toFixed","onClick"],"sources":["/Users/angelayu/webdevhw3/client/src/Cart.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './cart.css';\n\nfunction getCart() {\n  return JSON.parse(localStorage.getItem('cart') || '[]');\n}\n\nfunction saveCart(cart) {\n  localStorage.setItem('cart', JSON.stringify(cart));\n}\n\nfunction Cart() {\n  const [cart, setCart] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  useEffect(() => {\n    const cartData = getCart();\n    setCart(cartData);\n    setTotal(cartData.reduce((sum, item) => sum + item.price * item.quantity, 0));\n  }, []);\n\n  const removeFromCart = (name) => {\n    let updatedCart = cart.map(item => {\n      if (item.name === name) {\n        return { ...item, quantity: item.quantity - 1 };\n      }\n      return item;\n    }).filter(item => item.quantity > 0);\n    setCart(updatedCart);\n    saveCart(updatedCart);\n    setTotal(updatedCart.reduce((sum, item) => sum + item.price * item.quantity, 0));\n  };\n\n  useEffect(() => {\n    const count = cart.reduce((sum, item) => sum + item.quantity, 0);\n    document.querySelectorAll('#cart-count').forEach(el => {\n      el.textContent = count;\n    });\n  }, [cart]);\n\n  return (\n    <main className=\"menu-page\">\n      <h2 className=\"menu-header\">Your Shopping Cart</h2>\n      <div id=\"cart-items\">\n        {cart.length === 0 ? (\n          <p>Your cart is empty.</p>\n        ) : (\n          cart.map(item => (\n            <div className=\"cart-item\" key={item.name}>\n              <span className=\"item-name\">{item.name} ({item.quantity})</span>\n              <span className=\"item-price\">${(item.price * item.quantity).toFixed(2)}</span>\n              <button className=\"remove-item\" onClick={() => removeFromCart(item.name)}>Remove</button>\n            </div>\n          ))\n        )}\n      </div>\n      <div className=\"cart-summary\">\n        <strong>Total:</strong> ${total.toFixed(2)}\n      </div>\n    </main>\n  );\n}\n\nexport default Cart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}